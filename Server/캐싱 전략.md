캐시는 휘발성 데이터이고 너무 많이 저장하지 않도록 관리되어야 합니다. 그리고 캐시를 확인하였을 때 필요한 데이터가 있을수도, 없을수도 있음을 고려해야 합니다. 그래서 캐시를 구현하고 사용할 때는 해당 데이터가 얼마나 자주 사용될까를 고려해야합니다. 그래서 다음 용어들이 등장합니다.

- 캐시 적중(Cache Hit): 캐시에 접근했을 때 원하는 데이터가 있을 경우.
- 캐시 누락(Cache Miss): 캐시에 접근했을 때 원하는 데이터가 없는 경우.
- 삭제 정책(Eviction Policy): 캐시에 저장 공간이 부족할 때 어떻게 공간을 확보할지에 대한 정책.

캐싱을 어떻게 할지에 대한 전략을 서비스와 시스템에 맞게 잘 설계해서 적중률은 높이고 누락은 줄이는게 중요합니다.

# Cache-Aside

Lazy Loading이라고도 하며, 데이터를 조회할 때 항상 캐시를 먼저 확인하는 전략입니다. 캐시에 데이터가 있으면 캐시에서 데이터를, 없으면 원본에서 데이터를 가져온 뒤 캐시에 저장합니다.

![[IMG-20250305233429399.png]]
- 필요한 데이터만 캐시에 보관됩니다.
- 최초로 조회할 때 캐시를 확인하기 때문에 최초의 요청은 상대적으로 오래 걸립니다.
- 반드시 원본을 확인하지 않기 때문에, 데이터가 최신이라는 보장이 없습니다.

# Write-Through

데이터를 작성할때 항상 캐시에 작성하고, 원본에도 작성하는 전략입니다.

![[IMG-20250305233454207.png]]

- 캐시의 데이터 상태는 항상 최신 데이터임이 보장됩니다.
- 자주 사용하지 않는 데이터도 캐시에 중복해서 작성하기 때문에, 시간이 오래 걸립니다.

# Write-Behind

캐시에만 데이터를 작성하고, 일정 주기로 원본을 갱신하는 방식입니다.

![[IMG-20250305233514683.png]]

- 쓰기가 잦은 상황에 데이터베이스의 부하를 줄일 수 있습니다.
- 캐시의 데이터가 원본에 적용되기 전 문제가 발생하면 데이터 소실의 위험성이 존재합니다.


